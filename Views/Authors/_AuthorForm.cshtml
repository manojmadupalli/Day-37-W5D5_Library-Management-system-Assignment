@model Author
<form id="authorForm">
    <input type="hidden" name="Id" value="@Model.Id" />
    <div class="mb-3">
        <label class="form-label">Name</label>
        <input class="form-control" name="Name" value="@Model.Name" required maxlength="100"/>
    </div>
    <div class="d-flex justify-content-end gap-2">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button class="btn btn-primary" type="submit">@((Model.Id==0)?"Create":"Update")</button>
    </div>
</form>
<script>
$(function(){
  $("#authorForm").off("submit").on("submit", function(e){
    e.preventDefault();
    const url = @Model.Id==0 ? '/Authors/Create' : '/Authors/Edit/@Model.Id';
    $.post(url, $(this).serialize())
      .done(()=>location.reload())
      .fail(()=>alert('Error'));
  });
});
</script>
